<!doctype html>
<html amp lang="ja">
    <head>
        <meta charset="utf-8">
        <title>Javascriptの配列と連想配列 - Atsushi Mori&#39;s blog</title>
        <link rel="canonical" href="http://jp.atsushimori.com/array-and-associative-array/">
        <link rel="icon" href="/img/favicon.png">
        <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
        <style amp-custom>
    @font-face {
        font-family: 'Marcellus';
        font-style: normal;
        font-weight: 400;
        src: local('Marcellus'), local('Marcellus-Regular'), url(https://fonts.gstatic.com/s/marcellus/v4/FJNab1jzp1t7ctjNl8ugHJBw1xU1rKptJj_0jans920.woff2) format('woff2');
        unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000
    }
    html, body, p, img, h1, h2, h3, a, span, li, ul, figure {
        margin: 0;
        padding: 0;
        outline: 0;
        line-height: 1;
        font-weight: normal;
        color: #000
    }
    body {
        font-family: "Marcellus", "Helvetica Neue", Helvetica, Arial, Verdana, Roboto, "游ゴシック", "Yu Gothic", "游ゴシック体", "YuGothic", "ヒラギノ角ゴ Pro W3", "Hiragino Kaku Gothic Pro", "Meiryo UI", "メイリオ", Meiryo, "ＭＳ Ｐゴシック", "MS PGothic", sans-serif;
        font-size: 14px;
        line-height: 22px;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        -webkit-appearance: none;
        background: #fff
    }
    img {
        max-width: 100%;
        height: auto
    }
    figure {
        line-height: 1.8
    }
    figcaption {
        color: #666;
        text-align: right;
        font-size: 12px;
        padding: 8px 0 0
    }
    pre {
        color: #fff;
        margin: 20px 0 0 0;
        background: #1c1c1c;
        padding: 20px 30px;
        letter-spacing: 2px;
        font-size: 14px;
        -webkit-border-radius: 3px;
        -moz-border-radius: 3px;
        -ms-border-radius: 3px;
        -o-border-radius: 3px;
        border-radius: 3px
    }
    input[type="submit"] {
        background: #01ff2b;
        font-weight: bold;
        border: none;
        color: #000;
        padding: 10px 20px;
        -webkit-border-radius: 5px;
        -moz-border-radius: 5px;
        -ms-border-radius: 5px;
        -o-border-radius: 5px;
        border-radius: 5px;
        cursor: pointer
    }
    .align-right {
        float: right
    }
    #container {
        width: 1110px;
        margin: 0 auto
    }
    #header {
        display: table;
        padding: 70px 0 50px
    }
    .logo, .location {
        display: table-cell;
        text-align: left
    }
    .logo {
        min-width: 290px
    }
    .logo a {
        font-size: 32px;
        font-weight: normal;
        text-decoration: none;
        color: #000;
        letter-spacing: 1px
    }
    .content.pages {
        padding-bottom: 35px
    }
    .content.single {
        padding-bottom: 35px
    }
    .location p {
        font-size: 22px;
        text-transform: uppercase
    }
    #content:after, #side:after {
        content: '';
        clear: both;
        display: block
    }
    #side {
        float: left;
        width: 250px
    }
    #main {
        float: right;
        width: 820px
    }
    #outLink {
        width: 60px;
        float: left;
        border-top: 1px solid #ebebeb
    }
    #localNav {
        border-top: 1px solid #ebebeb;
        width: 170px;
        float: right
    }
    .locakNavItem {
        list-style-type: none;
        margin: 0;
        padding: 0
    }
    .locakNavItem li a:hover {
        background: #f8f8f8
    }
    .localNavArchives {
        margin-top: 10px
    }
    .localNavArchives li {
        list-style-type: none
    }
    .localNavArchives li a {
        color: #333;
        text-transform: uppercase;
        font-size: 12px;
        text-decoration: none;
        letter-spacing: 1px;
        padding: 8px 14px;
        display: block
    }
    .localNavArchives li a:hover {
        color: #000
    }
    .math, .blog, .programming {
        color: #000;
        padding: 16px 0 16px 15px;
        border-bottom: 1px solid #ebebeb;
        font-size: 12px;
        text-decoration: none;
        display: block;
        position: relative;
        letter-spacing: 1px
    }
    .math:before {
        content: '';
        background: #fabe00;
        width: 5px;
        height: 9px;
        left: 0;
        top: 39%;
        position: absolute
    }
    .blog:before {
        content: '';
        background: #d9374b;
        width: 5px;
        height: 9px;
        left: 0;
        top: 39%;
        position: absolute
    }
    .programming:before {
        content: '';
        background: #00a0da;
        width: 5px;
        height: 9px;
        left: 0;
        top: 39%;
        position: absolute
    }
    .single-content-header:after {
        content: '';
        clear: both;
        display: block;
    }
    .single-content .content p {
        line-height: 1.8;
        max-width: 530px;
        margin-top: 25px
    }
    .single-content .content figure {
        margin-top: 40px
    }
    .single-content .content ul {
        margin-top: 25px;
        font-size: 15px;
        max-width: 530px
    }
    .single-content .content ul li {
        color: #000;
        line-height: 1.6;
        list-style-type: square;
        margin-bottom: 8px
    }
    .single-content .content ul li a {
        font-size: 17px;
        font-weight: bold;
        text-decoration: none;
        border-bottom: 1px dashed #01ff2b
    }
    .single-content .content ol li figure {
        margin-top: 20px
    }
    .single-content .content p a {
        text-decoration: none;
        border-bottom: 1px dashed #01ff2b
    }
    .single-content .content h2 {
        font-size: 22px;
        margin-top: 40px
    }
    .single-content .content h3 {
        font-size: 18px;
        font-weight: bold;
        margin-top: 30px
    }
    .single-content-parts, .tags {
        display: table-cell;
        vertical-align: top;
    }
    #disqus_thread {
        max-width: 100%;
    }
    .commentlist {
        margin-bottom: 50px
    }
    .title, .image {
        float: left;
    }
    .title:after, .image:after {
        content: '';
        clear: both;
    }
    .title {
        width: 530px;
    }
    .image {
        width: 90px;
        margin: 0 30px;
    }
    .tags {
        min-width: 139px;
        text-align: right;
        vertical-align: top
    }
    .tags li {
        list-style-type: none;
        font-size: 12px;
        letter-spacing: 2px
        text-decoration: none;
        color: #999;
        margin-bottom: 15px;
        display: block;
        text-transform: uppercase
    }
    .title h1 {
        font-size: 32px;
        line-height: 1.3
    }
    .date {
        color: #ccc;
        font-size: 14px;
        margin-top: 10px
    }
    .home-article a {
        padding: 35px 0;
        height: 100%;
        display: table;
        text-decoration: none;
    }
    .home-article.cat-algorithms:hover h1:after {
        content: '●';
        margin-left: 10px;
        color: #fabe00;
    }
    .home-article.cat-blog:hover h1:after {
        content: '●';
        margin-left: 10px;
        color: #d9374b;
    }
    .home-article.cat-programming:hover h1:after {
        content: '●';
        margin-left: 10px;
        color: #00a0da
    }
    .home-article h1 {
        font-size: 22px;
        line-height: 30px;
    }
    .home-article.cat-programming {
        border-top: 1px solid #00a0da
    }
    .cat-programming h1 a {
        text-decoration: none;
        color: #00a0da
    }
    .title-programming {
        color: #00a0da;
        text-decoration: none
    }
    .home-article.cat-algorithms {
        border-top: 1px solid #fabe00
    }
    .cat-algorithms h1 a {
        text-decoration: none;
    }
    .title-algorithms {
        color: #fabe00;
        text-decoration: none
    }
    .home-article.cat-blog {
        border-top: 1px solid #d9374b
    }
    .cat-blog h1 a {
        text-decoration: none;
    }
    .title-blog {
        color: #d9374b;
        text-decoration: none
    }
    .outNavItem li {
        list-style-type: none;
        text-align: center
    }
    .outNavItem li a {
        display: block;
        padding: 10.5px 0;
        position: relative;
    }
    .outNavItem li a:hover:after {
        content: '';
        position: absolute;
        height: 10px;
        border-left: 5px solid #ebebeb;
        left: 0;
        top: 16px;
    }
    .comments {
        background: #1c1c1c;
        margin-top: 50px;
        -webkit-border-radius: 3px;
        -moz-border-radius: 3px;
        -ms-border-radius: 3px;
        -o-border-radius: 3px;
        border-radius: 3px;
        padding: 30px
    }
    .commentlist {
        padding: 0
    }
    .commentlist li {
        list-style-type: none;
        border-left: 2px solid #666;
        padding-left: 20px;
        font-style: italic;
        margin-top: 20px;
        font-size: 16px
    }
    .comment-author img {
        -webkit-border-radius: 50%;
        -moz-border-radius: 50%;
        -ms-border-radius: 50%;
        -o-border-radius: 50%;
        border-radius: 50%
    }
    .comment-meta a {
        font-size: 12px;
        color: #666;
        text-decoration: none;
        margin-top: 10px;
        display: inline-block
    }
    .comment-reply-link {
        background: #666;
        border: none;
        box-shadow: none;
        text-decoration: none;
        display: inline-block;
        font-size: 12px;
        padding: 3px 10px;
        -webkit-border-radius: 3px;
        -moz-border-radius: 3px;
        -ms-border-radius: 3px;
        -o-border-radius: 3px;
        border-radius: 3px;
        margin-top: 10px
    }
    .comments input[type="text"] {
        padding: 11px;
        min-width: 480px;
        font-size: 14px;
        background: #fff;
        border: none;
        -webkit-border-radius: 3px;
        -moz-border-radius: 3px;
        -ms-border-radius: 3px;
        -o-border-radius: 3px;
        border-radius: 3px
    }
    .comments textarea {
        padding: 11px;
        min-width: 480px;
        font-size: 14px;
        background: #fff;
        -webkit-border-radius: 3px;
        -moz-border-radius: 3px;
        -ms-border-radius: 3px;
        -o-border-radius: 3px;
        border-radius: 3px
    }
    .comment {
        list-style-type: none
    }
    .comment-author, .says {
        color: #999
    }
    .pagenation-wrap {
        margin-top: 50px;
        font-size: 12px
    }
    .pn-current {
        background: #01ff2b;
        color: #000;
        display: inline-block;
        padding: 7px 10px;
        -webkit-border-radius: 3px;
        -moz-border-radius: 3px;
        -ms-border-radius: 3px;
        -o-border-radius: 3px;
        border-radius: 3px
    }
    .pn-active {
        text-decoration: none;
        background: #333;
        display: inline-block;
        padding: 7px 10px;
        -webkit-border-radius: 3px;
        -moz-border-radius: 3px;
        -ms-border-radius: 3px;
        -o-border-radius: 3px;
        border-radius: 3px
    }
    .pagenation {
        margin-right: 12px
    }
    footer p {
        color: #666;
        font-size: 12px;
        padding: 80px 0;
        text-align: right -webkit-border-radius: 3px;
        -moz-border-radius: 3px;
        -ms-border-radius: 3px;
        -o-border-radius: 3px;
        border-radius: 3px
    }
    @media screen and (max-width: 1109px) {
        .localNavArchives li a {
            padding: 10px 45px;
            margin-top: 20px;
        }
        pre {
            overflow: scroll;
            -webkit-overflow-scrolling: touch
        }
        #container, #main, #side, #outLink, #localNav {
            width: 100%
        }
        .outNavItem {
            text-align: center
        }
        .outNavItem li {
            display: inline-block
        }
        .outNavItem li a {
            padding: 18px
        }
        #header, .location, .logo {
            display: block;
            text-align: center
        }
        #header {
            padding: 40px 0;
        }
        .logo a {
            font-size: 28px;
        }
        .location {
            margin-top: 10px;
        }
        .location p {
            font-size: 18px;
        }
        .title, .tags {
            display: inline-block
        }
        .home-article .tags {
            width: 25%;
            display: inline-block;
            text-align: left;
        }
       .tags {
            width: 100%;
            text-align: center;
            margin-top: 15px;
        }
        .pn-current, .pn-active {
            padding: 13px 20px
        }
        .pagenation {
            margin: 0 10px
        }
        .pagenation-wrap {
            text-align: center;
            margin: 50px 0
        }
        .date {
            font-size: 12px;
            margin-top: 5px;
        }
        .title {
            text-align: left;
            width: 75%;
        }
        .home-article a {
            padding: 5% 7%;
            width: 86%;
        }
        .single-content-parts, .tags {
            vertical-align: top;
        }
        .home-article .single-content-parts {
            display: inline-block;
        }
        .single-content-parts {
            width: 100%;
        }
        .title h1 {
            font-size: 30px;
        }
        .home-article .title h1 {
            font-size: 16px;
            display: inline-block;
            line-height: 23px;
        }
        .image {
            width: 20%;
            margin: 0;
        }
        footer p {
            text-align: center;
            padding: 50px 0 80px 0
        }
        .single-content .content p {
            margin: 25px auto 0
        }
        figcaption {
            text-align: left;
            margin-left: 15px
        }
        .comments textarea {
            min-width: 100%;
            width: 100%
        }
        pre, .comments {
            -webkit-border-radius: 0;
            -moz-border-radius: 0;
            -ms-border-radius: 0;
            -o-border-radius: 0;
            border-radius: 0
        }
        .math:before, .programming:before, .blog:before {
            width: 30px
        }
        .math, .blog, .programming {
            padding: 16px 0 16px 45px
        }
        .single-content .content p {
            margin: 20px 33px 0
        }
        .single-content-header {
            text-align: center;
            padding: 0 33px;
        }
        .home-article .single-content-header {
            text-align: left
            padding: 0;
        }
        .home-article .tags {
            display:none;
        }
        .single-content .title {
            width: 100%;
            display: inline-block;
            text-align: center;
        }
        .home-article .title {
            text-align: left;
            width: 77%;
            margin-right: 3%;
        }
        .single-content .content h2 {
            max-width: 530px;
            line-height: 33px;
            margin: 35px 33px 0
        }
        .single-content .content ul {
            margin: 25px 20px 0 50px
        }
        .align-right {
            float: none;
            display: block;
            margin-top: 30px
        }
        #commentform p {
            margin: 20px 0 0 0
        }
        .comments input[type="text"], .comments textarea {
            width: 100%;
            min-width: 0;
            -webkit-border-radius: 0;
            -moz-border-radius: 0;
            -ms-border-radius: 0;
            -o-border-radius: 0;
            border-radius: 0;
            padding: 11px 0
        }
        .comments {
            text-align: center;
            padding: 30px 0
        }
        .tags li a {
            margin-bottom: 10px
        }
        .home-article.cat-algorithms:hover h1:after {
            content: none;
        }
        .home-article.cat-blog:hover h1:after {
            content: none;
        }
        .home-article.cat-programming:hover h1:after {
            content: none;
        }
    }
</style>

        <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>


        <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "NewsArticle",
        "headline": "\"Javascriptの配列と連想配列\"",
        "author": {
            "@type": "Person",
            "name": "Atsushi Mori"
        },
        "publisher": {
            "@type": "Organization",
            "name": "FamilyLand, Inc."
        },
         "image": [
        ""
        ],
        "datePublished": "Tue, Dec 13, 2016"
    }
</script>
<style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
<script async src="https://cdn.ampproject.org/v0.js"></script>

    </head>
    <body>
<amp-analytics type="googleanalytics" id="analytics1">
<script type="application/json">
{
  "vars": {
    "account": "UA-74697575-3"
  },
  "triggers": {
    "trackPageview": {
      "on": "visible",
      "request": "pageview"
    }
  }
}
</script>
</amp-analytics>
        <div id="container">
            <header>
                <div id="header">
                    <div class="logo">
                        <p class="logoTitle"><a href="/">@tsushimori</a></p>
                    </div>
                    <div class="location">
                        
                        <p class="title-programming">programming</p>
                        
                    </div>
                </div>
            </header>
            <div id="content">
                <div id="main" class="single-content">
                    <main>
                        <div class="single-content-header">
                            <div class="title">
                                <h1>Javascriptの配列と連想配列</h1>
                                <p class="date">Dec 13, 2016</p>
                            </div>
                            <div class="tags">
                                <ul><li>Javascript</li></ul>
                            </div>
                        </div>
                        <div class="content single">
                            

<p>Javascriptをいじりだして、JSONの値を持ってくる時に連想配列のネストでいいんだっけ？配列にしたほうがいいんだっけ？と迷いながら、配列と連想配列の扱いについて方針を決めました。</p>

<h2 id="配列と連想配列の使い分け">配列と連想配列の使い分け</h2>

<h3 id="配列を使う場合">配列を使う場合</h3>

<p>基本的にforとかで回すときは配列を使ったほうがいい。.lengthでとれるので。具体的には例えば、ブログ機能みたいなのをつくっているとして、ブログの記事の管理とか、各記事のカテゴリー情報とかタグ情報、こういった類のものは配列にいれてしまったほうが取り出しやすい。自分で設計できる場合という前提になりますが・・・。</p>

<p>これはJSONファイル側です。Javascript側のオブジェクトで扱う場合は適宜調整が必要になることもあると思います。</p>

<pre><code>{
    &quot;title&quot; : &quot;title&quot;,
    &quot;categories&quot; : [&quot;cat1&quot;,&quot;cat2&quot;],
    &quot;tags&quot; : [&quot;tag1&quot;,&quot;tag2&quot;]
}
</code></pre>

<p>連想配列の中の配列と言ったほうがいいのでしょうか。</p>

<h3 id="連想配列を使う場合">連想配列を使う場合</h3>

<p>大枠の構造をつくる場合に使う、というかJSONの構造自体が連想配列ということになるのでしょうか。なので、連想配列が基本にあって、その中のどこに配列を使えばいいかという話でしょうかね。基本的にフラットに格納できるのが一番シンプルで取り出しやすいので、データの設計で分業する形をとるっていうのも手ですね。</p>

<pre><code>{
    &quot;sitename&quot; : &quot;title&quot;,
    &quot;url&quot; : &quot;http://hoge.com&quot;,
    &quot;discription&quot; : &quot;hogehoge.&quot;
}
</code></pre>

<h2 id="jsonから特定の値を取り出す">JSONから特定の値を取り出す</h2>

<p>Node.jsベースのアプリケーションであれば、fsモジュールのreadFileなどでJSONを読みこんでそれをオブジェクトに変換して使ってあげればJavascript側でいろいろと値をいじることができます。</p>

<pre><code>const fs = require('fs');
var path = 'dir/dir/data.json';
var loadFile = JSON.parse(fs.readFileSync(path, 'utf8'));

console.log(loadFile.Key); // Keyはtitleとかsitenameとかの値です。
</code></pre>

<h2 id="配列の要素数を取り出す">配列の要素数を取り出す</h2>

<pre><code>console.log(laodFile.categories.length);
</code></pre>

<p>.lengthで配列の個数が返ってきますので、これでfor文の範囲に指定したりすればループできます。</p>

<pre><code>for (i = 0; i &lt; loadFile.categories.length; i++) {
    console.log(loadFile.categories);
}
</code></pre>

<p>JavascriptってWebともともとマッチするし、Node.jsでバックエンド側含めてJavascriptで書くってことも多くなってきている印象ですね。</p>

<p>以前はWordpressをちょこっといじるレベルのただのコーダーだったのですが、最近の革新の技術は本当に幅広く応用が可能で、プログラミングどっぷりつかって良かったなと最近思っています。</p>

<p>MeteorかExpressも近々やってみようと思います。</p>

                        </div>
                    </main>
                </div>
                <div id="side">
                    <div id="outLink">
                        <ul class="outNavItem">
                            <li><a href="https://github.com/tsushimori" target="_blank"><amp-img src="/img/icon-gifhub.png" width="22" height="22" alt="GitHub"></amp-img></a></li>
                            <li><a href="https://twitter.com/tsushimori" target="_blank"><amp-img src="/img/icon-twitter.png" width="22" height="22" alt="Twitter"></amp-img></a></li>
                            <li><a href="http://www.familyland.co.jp/" target="_blank"><amp-img src="/img/icon-familyland.png" width="22" height="22" alt="FamilyLand"></amp-img></a></li>
                        </ul>
                    </div>
                    <nav id="localNav">
                        <ul class="locakNavItem">
                            <li><a class="blog" href="/categories/blog/">BLOG</a></li>
                            <li><a class="programming" href="/categories/programming/">PROGURAMMING</a></li>
                            <li><a class="math" href="/categories/algorithms/">ALGORITHMS</a></li>
                        </ul>
                        <ul class="localNavArchives">
                            
                            <li><a href="/tags/thinking">thinking</a></li>
                            
                            <li><a href="/tags/javascript">javascript</a></li>
                            
                            <li><a href="/tags/c&#43;&#43;">c&#43;&#43;</a></li>
                            
                            <li><a href="/tags/encoding">encoding</a></li>
                            
                            <li><a href="/tags/quantum">quantum</a></li>
                            
                            <li><a href="/tags/sqlite">sqlite</a></li>
                            
                        </ul>
                    </ul>
                </nav>
            </div>
        </div>
        <footer>
    <p>&copy; 2016 @tsushimori <a class="align-right" href="http://www.atsushimori.com/profile/">Hi !</a></p>
</footer>
        </div>
    </body>
</html>

